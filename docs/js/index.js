!function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(o=window)}t.exports=o},function(t,e,o){var n=["defaults","touch","mouse"];t.exports=function(t){for(var e=0;e<n.length;e++)merge(t,o(11)("./"+n[e]))}},function(t,e,o){"use strict";class n{constructor(t){this.parent=t,this.controls=t.controls}onMouseEnter(){}onMouseLeave(){}onMouseUp(t,e){}onMouseDown(t,e){}onMouseMove(t,e){}onClick(t,e){}onMouseWheel(t){}onContextMenu(){}onTouchStart(t){}onTouchEnd(t){}onTouchMove(t){}}e.a=n},function(t,e){t.exports={mesh:new THREE.Object3D,rotation:new THREE.Vector3,minVelocity:.01,velocity:new THREE.Vector3,velocityLength:0,angularVelocity:new THREE.Vector3,angularVelocityLength:0,cameraVelocity:new THREE.Vector3,cameraVelocityLength:0,points:[],raycaster:new THREE.Raycaster,intersects:null,hoveredObject:null,cameraInitialDistance:500,prevTime:0,PI_2:Math.PI/2}},function(t,e){t.exports={onKeyDown:function(t){switch(t){case this.controls.keys.UP:case this.controls.keys.W:this.velocity.z-=4;break;case this.controls.keys.LEFT:case this.controls.keys.A:this.velocity.x-=4;break;case this.controls.keys.DOWN:case this.controls.keys.S:this.velocity.z+=4;break;case this.controls.keys.RIGHT:case this.controls.keys.D:this.velocity.x+=4}}}},function(t,e){t.exports={canRotate:!1,rotating:!1,canPan:!1,pan:!1,rotSpeed:.01,panSpeed:.1,zoomSpeed:.1,onMouseDown:function(t,e){switch(this.intersectAction("onMouseDown",t,e,this.intersects),t){case this.controls.mouse.RIGHT:this.canRotate=!0;case this.controls.mouse.LEFT:this.hoveredObject||this.controls.keys.CTRL||this.shapes.toggleActiveAll(!1);break;case this.controls.mouse.MIDDLE:this.canPan=!0}},onMouseUp:function(t,e){this.intersectAction("onMouseUp",t,e),this.stopActions(t,e)},onMouseMove:function(t,e){this.intersects=this.getFirstIntersect(t),this.intersects?this.hoveredObject&&this.hoveredObject.name===this.intersects.object.name?this.intersectAction("onMouseMove",t,e,this.intersects):(this.intersectAction("onMouseLeave"),this.hoveredObject=this.intersects.object,this.intersectAction("onMouseEnter")):this.hoveredObject&&(this.intersectAction("onMouseLeave"),this.hoveredObject=null),this.startActions(e)},onMouseWheel:function(t){this.cameraVelocity.z+=t*this.getSpeedByCamera(this.zoomSpeed)},onContextMenu:function(){}}},function(t,e){t.exports={button:null,onTouchStart:function(t){this.points=t,this.button=t.length>1?this.controls.mouse.MIDDLE:this.controls.mouse.RIGHT,this.onMouseDown(this.button,t[0])},onTouchMove:function(t){var e=this.points[0],o=t[0];this.onMouseMove(o,new THREE.Vector2((o.x-e.x)/10,(o.y-e.y)/10))},onTouchEnd:function(t){this.onMouseUp(this.button,t[0])}}},function(t,e,o){"use strict";(function(t){t.random=function(t,e){return Math.random()*(e-t)+t},o(8)([o(10),o(12),o(13),o(18)],{farClip:1e4})}).call(e,o(0))},function(t,e,o){(function(e){function n(){requestAnimationFrame(n),a(),r.render(i,s)}var i,s,r,{Start:c,Update:a}=o(9),h={},l={viewAngle:60,nearClip:1,farClip:1e3};e.onload=function(){i=new THREE.Scene,(s=new THREE.PerspectiveCamera(l.viewAngle,e.innerWidth/e.innerHeight,l.nearClip,l.farClip)).lookAt(i.position),(r=new THREE.WebGLRenderer({antialias:!0})).setPixelRatio(e.devicePixelRatio),r.setSize(e.innerWidth,e.innerHeight),document.body.appendChild(r.domElement),c(i,s,r,h),n()},t.exports=function(t,e){if(t){merge(l,e||{});for(var o=0;o<t.length;o++){let e=t[o],n=Object.keys(e)[0];h[n.toLowerCase()]=new e[n]}}}}).call(e,o(0))},function(t,e,o){(function(t){t.merge=function(t,e){t||(t={});for(var o=Object.keys(e||{}),n=0;n<o.length;n++)t[o[n]]=e[o[n]];return t},THREE.Vector2.prototype.mult=function(t){return t&&"object"==typeof t||(t=new THREE.Vector2(t,t)),new THREE.Vector2(this.x*t.x,this.y*t.y)},THREE.Vector2.prototype.toWorld=function(){let e=this.clone();return e.x=2*e.x/t.innerWidth-1,e.y=1-2*e.y/t.innerHeight,e},THREE.Vector3.prototype.mult=function(t){return t&&"object"==typeof t||(t=new THREE.Vector3(t,t,t)),new THREE.Vector3(this.x*t.x,this.y*t.y,this.z*t.z)},THREE.Vector3.prototype.toScreenPos=function(e){let o=this.clone();return o.project(e),new THREE.Vector2((o.x+1)*t.innerWidth/2,(1-o.y)*t.innerHeight/2)},THREE.Raycaster.Intersection={distance:"Number",face:"Object",faceIndex:"Number",object:"Shape",point:"Vector3",uv:"Vector2"};var o=[];e.Start=function(t,e,n,i){for(var s in i){let c=i[s];if(c.scene=t,c.camera=e,c.renderer=n,c.Start(i),c.mesh)if(c.mesh instanceof Array)for(var r=0;r<c.mesh.length;r++)t.add(c.mesh[r]);else t.add(c.mesh);c.Update&&o.push(c.Update.bind(c))}},e.Update=function(){for(var t=0;t<o.length;t++)o[t]()}}).call(e,o(0))},function(t,e,o){class n{Start(t){this.controls=t.controls,this.shapes=t.shapes,this.camera.position.z=this.cameraInitialDistance,this.renderer.setClearColor(13421772),this.controls.enabled=!0,this.mesh.add(this.camera),this.rotation=this.mesh.rotation,this.prevTime=performance.now()}Update(){if(this.controls.enabled){var t=performance.now(),e=1-(t-this.prevTime)/100,o=!1;this.hasVelocityChanged("velocityLength","velocity")&&(this.velocity.x*=e,this.velocity.y*=e,this.velocity.z*=e,this.mesh.translateX(this.velocity.x),this.mesh.translateY(this.velocity.y),this.mesh.translateZ(this.velocity.z),this.velocityLength=this.velocity.length(),o=!0),this.hasVelocityChanged("angularVelocityLength","angularVelocity")&&(this.angularVelocity.x*=e,this.angularVelocity.y*=e,this.rotation.y-=this.angularVelocity.y,this.rotation.x=Math.max(-this.PI_2,Math.min(this.PI_2,this.rotation.x-this.angularVelocity.x)),this.angularVelocityLength=this.angularVelocity.length(),o=!0),this.hasVelocityChanged("cameraVelocityLength","cameraVelocity")&&(this.cameraVelocity.z*=e,this.camera.position.z+=this.cameraVelocity.z,this.cameraVelocityLength=this.cameraVelocity.length(),o=!0),o&&this.shapes.updateScreenElements(),this.prevTime=t}}hasVelocityChanged(t,e){return this[t]&&this[t]>this.minVelocity||this[e].length()>this.minVelocity}getFirstIntersect(t){this.raycaster.setFromCamera(t.toWorld(),this.camera);let e=this.raycaster.intersectObjects(this.shapes.mesh);return e.length>0?e[0]:null}intersectAction(t,...e){this.hoveredObject&&this.hoveredObject[t]&&this.hoveredObject[t](...e)}getSpeedByCamera(t){return t*this.camera.position.z/this.cameraInitialDistance}startActions(t){if(this.canRotate&&(this.rotating=!0,this.angularVelocity.x=t.y*this.rotSpeed,this.angularVelocity.y=t.x*this.rotSpeed),this.canPan){this.pan=!0;let e=this.getSpeedByCamera(this.panSpeed);this.velocity.x-=t.x*e,this.velocity.y+=t.y*e}}stopActions(t,e){this.rotating||this.intersectAction("onClick",t,e),this.canRotate=this.rotating=this.canPan=this.pan=!1}}o(1)(n.prototype),t.exports={Controller:n}},function(t,e,o){function n(t){return o(i(t))}function i(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var s={"./config":1,"./config.js":1,"./defaults":3,"./defaults.js":3,"./keys":4,"./keys.js":4,"./mouse":5,"./mouse.js":5,"./touch":6,"./touch.js":6};n.keys=function(){return Object.keys(s)},n.resolve=i,t.exports=n,n.id=11},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{Start(){this.mesh=[this.getLight("Hemisphere",[15658751,7829384,.75],[.5,1,.75]),this.getLight("Directional",[16777215],[1,1,1]),this.getLight("Directional",[8840],[-1,-1,-1]),this.getLight("Ambient",[2236962])]}getLight(t,e,o){var n=new THREE[t+"Light"](...e);return o&&n.position.set(...o),n}}e.Light=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={".git":{items:{},size:20},"3d":{items:{},size:20},dist:{items:{},size:30},"simple-server":{items:{},size:20},src:{items:{},size:10},LICENSE:{size:10},".gitignore":{size:1},"package.json":{size:10},"README.md":{size:10},"webpack.config.js":{size:20},"webpack.config.prod.js":{size:10}};class i{Start(t){this.mesh=[];let{Shape:e}=o(14);for(var i in n){let o=n[i].size,s=new e(this,i,new THREE.BoxGeometry(o,o,o),t.controls);this.mesh.push(s)}this.activeObjects={}}addToActive(t){this.activeObjects[t.name]=t}removeFromActive(t){delete this.activeObjects[name]}toggleActive(t,e){t.toggleActive(e)}toggleActiveAll(t){for(var e in this.activeObjects)this.toggleActive(this.activeObjects[e],t)}updateScreenElements(){for(var t=0;t<this.mesh.length;t++)this.mesh[t].updateScreenElements()}}e.Shapes=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(15),i=o(16),s=o(17);class r extends THREE.Mesh{constructor(t,e,o,r){super(o,new THREE.MeshPhongMaterial({color:(new THREE.Color).setHSL(random(.5,.8),.75,random(.75,1)),specular:10066329,shading:THREE.FlatShading,vertexColors:THREE.VertexColors})),this._parent=t,this.controls=r,this.name=e,this.position.x=random(-200,200),this.position.y=random(-200,200),this.position.z=random(-200,200),this.castShadow=!0,this.receiveShadow=!0;let c=["colors","drag","title"];this.drag=new s.a(this),this.colors=new i.a(this),this.title=new n.a(this,e,this.position.toScreenPos(this._parent.camera));let a=["onMouseEnter","onMouseLeave","onMouseUp","onMouseDown","onMouseMove"];for(var h=0;h<a.length;h++){let t=a[h];this[t]=((...e)=>{for(var o=0;o<c.length;o++)this[c[o]][t](...e)})}this.isActive=!1}toggleActive(t){this.controls.keys.CTRL?t=!this.isActive:t&&this._parent.toggleActiveAll(!1),this.isActive=t,this.colors.toggle(t),this._parent[t?"addToActive":"removeFromActive"](this)}move(t){this.translateX(t.x),this.translateY(t.y),this.updateScreenElements()}updateScreenElements(){let t=this.position.clone(),e=this._parent.camera.position.clone();e.sub(t),this.title.update(t.toScreenPos(this._parent.camera),.01*e.length())}}e.Shape=r},function(t,e,o){"use strict";var n=o(2);class i extends n.a{constructor(t,e,o){super(t);let n=document.createElement("div");n.className="title",n.innerHTML=e,document.body.appendChild(n),this.DOM=n,this.maxFontSize=42,this.update(o,20);for(let e in this.handlers){let o=this.handlers[e];t[o]&&n.addEventListener(e,e=>{t.controls.eventHandler(e,t,o)},!1)}}update(t,e){this.DOM.style.left=t.x+"px",this.DOM.style.top=t.y+"px",this.DOM.style.opacity=1/e,this.DOM.style.fontSize=Math.min(100*this.DOM.style.opacity,this.maxFontSize)+"px"}}e.a=i},function(t,e,o){"use strict";var n=o(2);class i extends n.a{constructor(t,e){super(t),this.material=t.material,this.oldColor=this.deactiveColor=this.color,this.activateCondition=e||function(){return!0}}get color(){return this.material.color.getHex()}set color(t){this.material.color.set(t)}get activeColor(){return 8934741}get hoverColor(){return this.parent.isActive?12290184:8947848}get downColor(){return this.parent.isActive?8934741:5592405}toggle(t){this.oldColor=this.color=this[t?"activeColor":"deactiveColor"]}onMouseEnter(){this.oldColor=this.color,this.color=this.hoverColor}onMouseLeave(){this.color=this.oldColor}onMouseUp(t,e){this.color=this.hoverColor}onMouseDown(t,e){this.activateCondition()&&this.parent.toggleActive(!0),this.color=this.downColor}}e.a=i},function(t,e,o){"use strict";var n=o(2);class i extends n.a{constructor(t){super(t),stop()}stop(){this.startPoint=this.process=null}onMouseLeave(){this.stop()}onMouseUp(t,e){this.stop()}onMouseDown(t,e,o){this.startPoint=o.point.clone()}onMouseMove(t,e,o){if(this.startPoint){this.process=!0;let t=o.point.clone();t.sub(this.startPoint),this.parent.move(t),this.startPoint=o.point}}}e.a=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var o={enabled:!1,enableKeys:!0,keys:{SPACE:32,UP:38,DOWN:40,LEFT:37,RIGHT:39,W:87,A:65,S:83,D:68,CTRL:!1},mouse:{LEFT:0,WHEEL:1,MIDDLE:1,RIGHT:2},handlers:{keydown:"onKeyDown",keyup:"onKeyUp",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick",wheel:"onMouseWheel",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove"}};class n{constructor(){merge(this,o),document.addEventListener("pointerlockchange",t=>this.onPointerLockingChange(t),!1),document.addEventListener("mozpointerlockchange",t=>this.onPointerLockingChange(t),!1),document.addEventListener("webkitpointerlockchange",t=>this.onPointerLockingChange(t),!1),document.addEventListener("pointerlockerror",t=>this.onPointerLockingError(t),!1),document.addEventListener("mozpointerlockerror",t=>this.onPointerLockingError(t),!1),document.addEventListener("webkitpointerlockerror",t=>this.onPointerLockingError(t),!1)}Start(e){for(var o in e){let t=e[o];for(let e in this.handlers){let o=this.handlers[e];t[o]&&document.body.addEventListener(e,e=>{this.enabled&&(this.keys.CTRL=e.ctrlKey,this.eventHandler(e,t,o))},!1)}}t.addEventListener("resize",()=>{this.camera.aspect=t.innerWidth/t.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(t.innerWidth,t.innerHeight)},!1)}eventHandler(t,e,o){var n=e[o].bind(e);switch(t.preventDefault(),t.stopPropagation(),o){case"onKeyDown":case"onKeyUp":if(!this.enableKeys)return;return n(t.keyCode);case"onMouseMove":return n(new THREE.Vector2(t.clientX,t.clientY),new THREE.Vector2(t.movementX||t.mozMovementX||t.webkitMovementX||0,t.movementY||t.mozMovementY||t.webkitMovementY||0));case"onMouseWheel":return n(t.deltaY);case"onClick":case"onMouseUp":case"onMouseDown":return n(t.button,new THREE.Vector2(t.clientX,t.clientY));case"onTouchStart":case"onTouchMove":case"onTouchEnd":let e=new Array(t.touches.length);for(var i=0;i<e.length;i++)e[i]=new THREE.Vector2(t.touches[i].pageX,t.touches[i].pageY);return n(e);default:return n()}}onPointerLockingError(){}onPointerLockingChange(){}lockPointer(t){let e=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock;e&&e()}isPointerLocked(t){return document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t}}e.Controls=n}.call(e,o(0))}]);