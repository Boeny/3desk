!function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){var n=["defaults","touch","mouse"];e.exports=function(e){for(var t=0;t<n.length;t++)merge(e,o(11)("./"+n[t]))}},function(e,t){e.exports={mesh:new THREE.Object3D,rotation:new THREE.Vector3,minVelocity:.01,velocity:new THREE.Vector3,velocityLength:0,angularVelocity:new THREE.Vector3,angularVelocityLength:0,cameraVelocity:new THREE.Vector3,cameraVelocityLength:0,points:[],raycaster:new THREE.Raycaster,intersects:null,hoveredObject:null,cameraInitialDistance:500,prevTime:0,PI_2:Math.PI/2}},function(e,t){e.exports={onKeyDown:function(e){switch(e){case this.controls.keys.UP:case this.controls.keys.W:this.velocity.z-=4;break;case this.controls.keys.LEFT:case this.controls.keys.A:this.velocity.x-=4;break;case this.controls.keys.DOWN:case this.controls.keys.S:this.velocity.z+=4;break;case this.controls.keys.RIGHT:case this.controls.keys.D:this.velocity.x+=4}}}},function(e,t){e.exports={canRotate:!1,rotating:!1,canPan:!1,pan:!1,rotSpeed:.01,panSpeed:.1,zoomSpeed:.1,onMouseDown:function(e,t){switch(this.intersectAction("onMouseDown",e,t,this.intersects),e){case this.controls.mouse.RIGHT:this.canRotate=!0;case this.controls.mouse.LEFT:this.hoveredObject||this.controls.keys.CTRL||this.shapes.toggleActiveAll(!1);break;case this.controls.mouse.MIDDLE:this.canPan=!0}},onMouseUp:function(e,t){this.intersectAction("onMouseUp",e,t),this.stopActions(e,t)},onMouseMove:function(e,t){this.intersects=this.getFirstIntersect(e),this.intersects?this.hoveredObject&&this.hoveredObject.name===this.intersects.object.name?this.intersectAction("onMouseMove",e,t,this.intersects):(this.intersectAction("onMouseLeave"),this.hoveredObject=this.intersects.object,this.intersectAction("onMouseEnter")):this.hoveredObject&&(this.intersectAction("onMouseLeave"),this.hoveredObject=null),this.startActions(t)},onMouseWheel:function(e){this.cameraVelocity.z+=e*this.getSpeedByCamera(this.zoomSpeed)},onContextMenu:function(){}}},function(e,t){e.exports={button:null,onTouchStart:function(e){this.points=e,this.button=e.length>1?this.controls.mouse.MIDDLE:this.controls.mouse.RIGHT,this.onMouseDown(this.button,e[0])},onTouchMove:function(e){var t=this.points[0],o=e[0];this.onMouseMove(o,new THREE.Vector2((o.x-t.x)/10,(o.y-t.y)/10))},onTouchEnd:function(e){this.onMouseUp(this.button,e[0])}}},function(e,t,o){"use strict";class n{constructor(e){this.parent=e,this.controls=e.controls}onMouseEnter(){}onMouseLeave(){}onMouseUp(e,t){}onMouseDown(e,t){}onMouseMove(e,t){}}t.a=n},function(e,t,o){"use strict";(function(e){e.random=function(e,t){return Math.random()*(t-e)+e},o(8)([o(10),o(12),o(13),o(18)],{farClip:1e4})}).call(t,o(0))},function(e,t,o){(function(t){function n(){requestAnimationFrame(n),a(),r.render(i,s)}var i,s,r,{Start:c,Update:a}=o(9),h={},l={viewAngle:60,nearClip:1,farClip:1e3};t.onload=function(){i=new THREE.Scene,(s=new THREE.PerspectiveCamera(l.viewAngle,t.innerWidth/t.innerHeight,l.nearClip,l.farClip)).lookAt(i.position),(r=new THREE.WebGLRenderer({antialias:!0})).setPixelRatio(t.devicePixelRatio),r.setSize(t.innerWidth,t.innerHeight),document.body.appendChild(r.domElement),c(i,s,r,h),n()},e.exports=function(e,t){if(e){merge(l,t||{});for(var o=0;o<e.length;o++){let t=e[o],n=Object.keys(t)[0];h[n.toLowerCase()]=new t[n]}}}}).call(t,o(0))},function(e,t,o){(function(e){e.merge=function(e,t){e||(e={});for(var o=Object.keys(t||{}),n=0;n<o.length;n++)e[o[n]]=t[o[n]];return e},THREE.Vector2.prototype.mult=function(e){return e&&"object"==typeof e||(e=new THREE.Vector2(e,e)),new THREE.Vector2(this.x*e.x,this.y*e.y)},THREE.Vector2.prototype.toWorld=function(){let t=this.clone();return t.x=2*t.x/e.innerWidth-1,t.y=1-2*t.y/e.innerHeight,t},THREE.Vector3.prototype.mult=function(e){return e&&"object"==typeof e||(e=new THREE.Vector3(e,e,e)),new THREE.Vector3(this.x*e.x,this.y*e.y,this.z*e.z)},THREE.Vector3.prototype.toScreenPos=function(t){let o=this.clone();return o.project(t),new THREE.Vector2((o.x+1)*e.innerWidth/2,(1-o.y)*e.innerHeight/2)},THREE.Raycaster.Intersection={distance:"Number",face:"Object",faceIndex:"Number",object:"Shape",point:"Vector3",uv:"Vector2"};var o=[];t.Start=function(e,t,n,i){for(var s in i){let c=i[s];if(c.scene=e,c.camera=t,c.renderer=n,c.Start(i),c.mesh)if(c.mesh instanceof Array)for(var r=0;r<c.mesh.length;r++)e.add(c.mesh[r]);else e.add(c.mesh);c.Update&&o.push(c.Update.bind(c))}},t.Update=function(){for(var e=0;e<o.length;e++)o[e]()}}).call(t,o(0))},function(e,t,o){class n{Start(e){this.controls=e.controls,this.shapes=e.shapes,this.camera.position.z=this.cameraInitialDistance,this.renderer.setClearColor(13421772),this.controls.enabled=!0,this.mesh.add(this.camera),this.rotation=this.mesh.rotation,this.prevTime=performance.now()}Update(){if(this.controls.enabled){var e=performance.now(),t=1-(e-this.prevTime)/100,o=!1;this.hasVelocityChanged("velocityLength","velocity")&&(this.velocity.x*=t,this.velocity.y*=t,this.velocity.z*=t,this.mesh.translateX(this.velocity.x),this.mesh.translateY(this.velocity.y),this.mesh.translateZ(this.velocity.z),this.velocityLength=this.velocity.length(),o=!0),this.hasVelocityChanged("angularVelocityLength","angularVelocity")&&(this.angularVelocity.x*=t,this.angularVelocity.y*=t,this.rotation.y-=this.angularVelocity.y,this.rotation.x=Math.max(-this.PI_2,Math.min(this.PI_2,this.rotation.x-this.angularVelocity.x)),this.angularVelocityLength=this.angularVelocity.length(),o=!0),this.hasVelocityChanged("cameraVelocityLength","cameraVelocity")&&(this.cameraVelocity.z*=t,this.camera.position.z+=this.cameraVelocity.z,this.cameraVelocityLength=this.cameraVelocity.length(),o=!0),o&&this.shapes.updateScreenElements(),this.prevTime=e}}hasVelocityChanged(e,t){return this[e]&&this[e]>this.minVelocity||this[t].length()>this.minVelocity}getFirstIntersect(e){this.raycaster.setFromCamera(e.toWorld(),this.camera);let t=this.raycaster.intersectObjects(this.shapes.mesh);return t.length>0?t[0]:null}intersectAction(e,...t){this.hoveredObject&&this.hoveredObject[e]&&this.hoveredObject[e](...t)}getSpeedByCamera(e){return e*this.camera.position.z/this.cameraInitialDistance}startActions(e){if(this.canRotate&&(this.rotating=!0,this.angularVelocity.x=e.y*this.rotSpeed,this.angularVelocity.y=e.x*this.rotSpeed),this.canPan){this.pan=!0;let t=this.getSpeedByCamera(this.panSpeed);this.velocity.x-=e.x*t,this.velocity.y+=e.y*t}}stopActions(e,t){this.rotating||this.intersectAction("onClick",e,t),this.canRotate=this.rotating=this.canPan=this.pan=!1}}o(1)(n.prototype),e.exports={Controller:n}},function(e,t,o){function n(e){return o(i(e))}function i(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./config":1,"./config.js":1,"./defaults":2,"./defaults.js":2,"./keys":3,"./keys.js":3,"./mouse":4,"./mouse.js":4,"./touch":5,"./touch.js":5};n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id=11},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n{Start(){this.mesh=[this.getLight("Hemisphere",[15658751,7829384,.75],[.5,1,.75]),this.getLight("Directional",[16777215],[1,1,1]),this.getLight("Directional",[8840],[-1,-1,-1]),this.getLight("Ambient",[2236962])]}getLight(e,t,o){var n=new THREE[e+"Light"](...t);return o&&n.position.set(...o),n}}t.Light=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[{name:".git",isFolder:!0},{name:"3d",isFolder:!0},{name:"dist",isFolder:!0},{name:"simple-server",isFolder:!0},{name:"src",isFolder:!0},{name:"LICENSE",isFolder:!1},{name:".gitignore",isFolder:!1},{name:"package.json",isFolder:!1},{name:"README.md",isFolder:!1},{name:"webpack.config.js",isFolder:!1},{name:"webpack.config.prod.js",isFolder:!1}];class i{Start(e){this.mesh=[];let t=new THREE.BoxGeometry(20,20,20),{Shape:i}=o(14);for(var s=0;s<n.length;s++){let o=new i(this,n[s].name,t,e.controls);this.mesh.push(o)}this.activeObjects={}}addToActive(e){this.activeObjects[e.name]=e}removeFromActive(e){delete this.activeObjects[name]}toggleActive(e,t){e.isActive=t}toggleActiveAll(e){for(var t in this.activeObjects)this.toggleActive(this.activeObjects[t],e)}updateScreenElements(){for(var e=0;e<this.mesh.length;e++)this.mesh[e].updateScreenElements()}}t.Shapes=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(15),i=o(16),s=o(17);class r extends THREE.Mesh{constructor(e,t,o,r){super(o,new THREE.MeshPhongMaterial({color:(new THREE.Color).setHSL(random(.5,.8),.75,random(.75,1)),specular:10066329,shading:THREE.FlatShading,vertexColors:THREE.VertexColors})),this._parent=e,this.controls=r,this.name=t,this.position.x=random(-200,200),this.position.y=random(-200,200),this.position.z=random(-200,200),this.castShadow=!0,this.receiveShadow=!0,this.textElem=new n.a(t,this.position.toScreenPos(this._parent.camera));let c=["colors","drag"];this.drag=new s.a(this),this.colors=new i.a(this);let a=["onMouseEnter","onMouseLeave","onMouseUp","onMouseDown","onMouseMove"];for(var h=0;h<a.length;h++){let e=a[h];this[e]=((...t)=>{for(var o=0;o<c.length;o++)this[c[o]][e](...t)})}this._isActive=!1}move(){}get isActive(){return this._isActive}set isActive(e){e&&!this.controls.keys.CTRL&&this._parent.toggleActiveAll(!1),this._isActive=e,this.colors.toggle(e),this._parent[e?"addToActive":"removeFromActive"](this)}updateScreenElements(){this.textElem.update(this.position.toScreenPos(this._parent.camera))}}t.Shape=r},function(e,t,o){"use strict";class n{constructor(e,t){let o=document.createElement("div");return o.className="title",o.innerHTML=e,o.update=this.update.bind(o),o.update(t),document.body.appendChild(o),o}update(e){this.style.left=e.x+"px",this.style.top=e.y+"px"}}t.a=n},function(e,t,o){"use strict";var n=o(6);class i extends n.a{constructor(e,t){super(e),this.material=e.material,this.oldColor=this.deactiveColor=this.color,this.activateCondition=t||function(){return!0}}get color(){return this.material.color.getHex()}set color(e){this.material.color.set(e)}get activeColor(){return 8934741}get hoverColor(){return this.parent.isActive?12290184:8947848}get downColor(){return this.parent.isActive?8934741:5592405}toggle(e){this.oldColor=this.color=this[e?"activeColor":"deactiveColor"]}onMouseEnter(){this.oldColor=this.color,this.color=this.hoverColor}onMouseLeave(){this.color=this.oldColor}onMouseUp(e,t){this.color=this.hoverColor}onMouseDown(e,t){this.activateCondition()&&(this.parent.isActive=!0),this.color=this.downColor}}t.a=i},function(e,t,o){"use strict";var n=o(6);class i extends n.a{constructor(e){super(e),stop()}stop(){this.startPoint=this.process=null}onMouseLeave(){this.stop()}onMouseUp(e,t){this.stop()}onMouseDown(e,t,o){this.startPoint=o.point.clone()}onMouseMove(e,t,o){if(this.startPoint){this.process=!0;let e=o.point.clone();e.sub(this.startPoint),this.parent.translateX(e.x),this.parent.translateY(e.y),this.startPoint=o.point}}}t.a=i},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var o={enabled:!1,enableKeys:!0,keys:{SPACE:32,UP:38,DOWN:40,LEFT:37,RIGHT:39,W:87,A:65,S:83,D:68,CTRL:!1},mouse:{LEFT:0,WHEEL:1,MIDDLE:1,RIGHT:2},handlers:{keydown:"onKeyDown",keyup:"onKeyUp",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",click:"onClick",wheel:"onMouseWheel",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove"}};class n{constructor(){merge(this,o),document.addEventListener("pointerlockchange",e=>this.onPointerLockingChange(e),!1),document.addEventListener("mozpointerlockchange",e=>this.onPointerLockingChange(e),!1),document.addEventListener("webkitpointerlockchange",e=>this.onPointerLockingChange(e),!1),document.addEventListener("pointerlockerror",e=>this.onPointerLockingError(e),!1),document.addEventListener("mozpointerlockerror",e=>this.onPointerLockingError(e),!1),document.addEventListener("webkitpointerlockerror",e=>this.onPointerLockingError(e),!1)}Start(t){for(var o in t){let e=t[o];for(let t in this.handlers){let o=this.handlers[t];e[o]&&this.renderer.domElement.addEventListener(t,t=>{this.enabled&&(this.keys.CTRL=t.ctrlKey,this.eventHandler(t,e,o))},!1)}}e.addEventListener("resize",()=>{this.camera.aspect=e.innerWidth/e.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(e.innerWidth,e.innerHeight)},!1)}eventHandler(e,t,o){var n=t[o].bind(t);switch(e.preventDefault(),e.stopPropagation(),o){case"onKeyDown":case"onKeyUp":if(!this.enableKeys)return;return n(e.keyCode);case"onMouseMove":return n(new THREE.Vector2(e.clientX,e.clientY),new THREE.Vector2(e.movementX||e.mozMovementX||e.webkitMovementX||0,e.movementY||e.mozMovementY||e.webkitMovementY||0));case"onMouseWheel":return n(e.deltaY);case"onClick":case"onMouseUp":case"onMouseDown":return n(e.button,new THREE.Vector2(e.clientX,e.clientY));case"onTouchStart":case"onTouchMove":case"onTouchEnd":let t=new Array(e.touches.length);for(var i=0;i<t.length;i++)t[i]=new THREE.Vector2(e.touches[i].pageX,e.touches[i].pageY);return n(t);default:return n()}}onPointerLockingError(){}onPointerLockingChange(){}lockPointer(e){let t=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock;t&&t()}isPointerLocked(e){return document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e}}t.Controls=n}.call(t,o(0))}]);