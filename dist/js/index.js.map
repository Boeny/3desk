{"version":3,"sources":["webpack:///webpack/bootstrap f8de2d75698b20967aba","webpack:///(webpack)/buildin/global.js","webpack:///./src/client/controls.js","webpack:///./src/client/controller.config.js","webpack:///./src/client/controller.js","webpack:///./src/client/controller.keys.js","webpack:///./src/client/controller.mouse.js","webpack:///./src/client/controller.touch.js","webpack:///./src/client/index.js","webpack:///./src/node_modules/3d/index.js","webpack:///./src/node_modules/3d/base.js","webpack:///./src/client ^\\.\\/controller\\..*$","webpack:///./src/client/light.js","webpack:///./src/client/shapes.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,EAAE;;AAEF;AACA,iBAAiB,yBAAyB;AAC1C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF,oCAAoC;AACpC,qCAAqC;;AAErC;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,E;;;;;;;AC/HA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA;;AAEA,4B;;;;;;AChCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,E;;;;;;AClDA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,EAAE;;AAEF;AACA;AACA;AACA,E;;;;;;;AClCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,E;;;;;;;8CCpBA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,G;;;;;;;ACjBA,mDAAK,gBAAgB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qCAAqC,kBAAkB;AACvD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA;;AAEA,2BAA2B;AAC3B,gBAAgB,mBAAmB;AACnC;AACA;AACA,E;;;;;;;ACrCA;AACA;AACA,gCAAgC;;AAEhC,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA,E;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,E;;;;;;ACfA;AACA;AACA;AACA,GAAG,6BAA6B;AAChC,GAAG,2BAA2B;AAC9B,GAAG,6BAA6B;AAChC,GAAG,sCAAsC;AACzC,GAAG,8BAA8B;;AAEjC,GAAG,kCAAkC;AACrC,GAAG,oCAAoC;AACvC,GAAG,sCAAsC;AACzC,GAAG,oCAAoC;AACvC,GAAG,2CAA2C;AAC9C,GAAG,gDAAgD;AACnD;;AAEA;AACA;;AAEA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH,aAAa,sBAAsB;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,E","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f8de2d75698b20967aba","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 0\n// module chunks = 0","module.exports = {\r\n\tenabled: false,\r\n\tenableKeys: true,\r\n\t\r\n\tkeys: {\r\n\t\tSPACE: 32,\r\n\t\tUP: 38,\r\n\t\tDOWN: 40,\r\n\t\tLEFT: 37,\r\n\t\tRIGHT: 39,\r\n\t\tW: 87,\r\n\t\tA: 65,\r\n\t\tS: 83,\r\n\t\tD: 68,\r\n\t},\r\n\tmouse: {\r\n\t\tLEFT: 0,\r\n\t\tWHEEL: 1,\r\n\t\tMIDDLE: 1,\r\n\t\tRIGHT: 2\r\n\t},\r\n\t\r\n\thandlers: {\r\n\t\tkeydown: 'onKeyDown',\r\n\t\tkeyup: 'onKeyUp',\r\n\t\t\r\n\t\tmousemove: 'onMouseMove',\r\n\t\tmousedown: 'onMouseDown',\r\n\t\tmouseup: 'onMouseUp',\r\n\t\tclick: 'onClick',\r\n\t\twheel: 'onMouseWheel',\r\n\t\tcontextmenu: 'onContextMenu',\r\n\t\t\r\n\t\ttouchstart: 'onTouchStart',\r\n\t\ttouchend: 'onTouchEnd',\r\n\t\ttouchmove: 'onTouchMove',\r\n\t\t\r\n\t},\r\n\t\r\n\tStart: function(){\r\n\t\tfor (var i = 0; i < this.objects.length; i++){\r\n\t\t\tlet obj = this.objects[i];\r\n\t\t\t\r\n\t\t\tfor (let eventName in this.handlers){\r\n\t\t\t\tlet handlerName = this.handlers[eventName];\r\n\t\t\t\t\r\n\t\t\t\tif (obj[handlerName]){\r\n\t\t\t\t\tthis.renderer.domElement.addEventListener(eventName, (e) => {\r\n\t\t\t\t\t\tif (!this.enabled) return;\r\n\t\t\t\t\t\tthis.eventHandler(e, obj, handlerName);\r\n\t\t\t\t\t}, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tglobal.addEventListener('resize', () => {\r\n\t\t\tthis.camera.aspect = global.innerWidth / global.innerHeight;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\t\t\tthis.renderer.setSize(global.innerWidth, global.innerHeight);\r\n\t\t}, false);\r\n\t\t\r\n\t\t// Hook pointer lock state change events\r\n\t\tdocument.addEventListener('pointerlockchange', (e) => this.onPointerLockingChange(e), false);\r\n\t\tdocument.addEventListener('mozpointerlockchange', (e) => this.onPointerLockingChange(e), false);\r\n\t\tdocument.addEventListener('webkitpointerlockchange', (e) => this.onPointerLockingChange(e), false);\r\n\t\t\r\n\t\tdocument.addEventListener('pointerlockerror', (e) => this.onPointerLockingError(e), false);\r\n\t\tdocument.addEventListener('mozpointerlockerror', (e) => this.onPointerLockingError(e), false);\r\n\t\tdocument.addEventListener('webkitpointerlockerror', (e) => this.onPointerLockingError(e), false);\r\n\t},\r\n\t\r\n\teventHandler: function(e, obj, handlerName){\r\n\t\tvar handler = obj[handlerName].bind(obj);\r\n\t\t\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\t\r\n\t\tswitch (handlerName){\r\n\t\t\tcase 'onKeyDown':\r\n\t\t\tcase 'onKeyUp':\r\n\t\t\t\tif (!this.enableKeys) return;\r\n\t\t\t\treturn handler(e.keyCode);\r\n\t\t\t\r\n\t\t\tcase 'onMouseMove':\r\n\t\t\t\treturn handler(\r\n\t\t\t\t\tnew THREE.Vector2(e.clientX, e.clientY),\r\n\t\t\t\t\tnew THREE.Vector2(\r\n\t\t\t\t\t\te.movementX || e.mozMovementX || e.webkitMovementX || 0,\r\n\t\t\t\t\t\te.movementY || e.mozMovementY || e.webkitMovementY || 0\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t\r\n\t\t\tcase 'onMouseWheel':\r\n\t\t\t\treturn handler(e.deltaY);\r\n\t\t\t\r\n\t\t\tcase 'onClick':\r\n\t\t\tcase 'onMouseUp':\r\n\t\t\tcase 'onMouseDown':\r\n\t\t\t\treturn handler(e.button, e.clientX, e.clientY);\r\n\t\t\t\r\n\t\t\tcase 'onTouchStart':\r\n\t\t\tcase 'onTouchMove':\r\n\t\t\tcase 'onTouchEnd':\r\n\t\t\t\tlet points = new Array(e.touches.length);\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < points.length; i++){\r\n\t\t\t\t\tpoints[i] = new THREE.Vector2(e.touches[i].pageX, e.touches[i].pageY);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn handler(points);\r\n\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\treturn handler();\r\n\t\t}\r\n\t},\r\n\t\r\n\tonPointerLockingError: function(){},\r\n\tonPointerLockingChange: function(){},\r\n\t\r\n\t// Ask the browser to lock the pointer\r\n\tlockPointer: function(elem){\r\n\t\tlet lock = elem.requestPointerLock || elem.mozRequestPointerLock || elem.webkitRequestPointerLock;\r\n\t\tlock && lock();\r\n\t},\r\n\tisPointerLocked: function(elem){\r\n\t\treturn document.pointerLockElement === elem || document.mozPointerLockElement === elem || document.webkitPointerLockElement === elem;\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controls.js\n// module id = 1\n// module chunks = 0","var parts = [\r\n\t//'touch',\r\n\t'mouse',\r\n\t//'keys',\r\n];\r\n\r\nvar Controller = {\r\n\tmesh: new THREE.Object3D(),\r\n\tmouse: new THREE.Vector2(),\r\n\tpoints: [],\r\n\traycaster: new THREE.Raycaster(),\r\n\t\r\n\tmoveForward: false,\r\n\tmoveBackward: false,\r\n\tmoveLeft: false,\r\n\tmoveRight: false,\r\n\t\r\n\tcanRotate: false,\r\n\trotating: false,\r\n\tcanPan: false,\r\n\tpan: false,\r\n\t\r\n\tprevTime: null,\r\n\tvelocity: new THREE.Vector3(),\r\n\tangularVelocity: new THREE.Vector3(),\r\n\tPI_2: Math.PI / 2,\r\n};\r\n\r\nfor (var i = 0; i < parts.length; i++){\r\n\tmerge(Controller, require('./controller.'+parts[i]));\r\n}\r\n\r\nmodule.exports = Controller;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller.config.js\n// module id = 2\n// module chunks = 0","var controls = require('./controls');\r\n//var shapes = require('./shapes');\r\n\r\nvar Controller = {\r\n\tStart: function(){\r\n\t\tthis.camera.position.z = 500;\r\n\t\tthis.scene.fog = new THREE.FogExp2( 0xcccccc, 0.002 );\r\n\t\tthis.renderer.setClearColor( this.scene.fog.color );\r\n\t\tcontrols.enabled = true;\r\n\t\t\r\n\t\tvar pitchObject = new THREE.Object3D();\r\n\t\tpitchObject.add(this.camera);\r\n\t\tthis.pitchRot = pitchObject.rotation;\r\n\t\tthis.mesh.add(pitchObject);\r\n\t\t\r\n\t\tthis.prevTime = performance.now();\r\n\t},\r\n\t\r\n\tUpdate: function(){\r\n\t\tif (!controls.enabled) return;\r\n\t\t\r\n\t\tvar time = performance.now();\r\n\t\tvar delta = 1 - ( time - this.prevTime ) / 100;\r\n\t\t\r\n\t\t// decrease speed\r\n\t\tlet fields = ['velocity', 'angularVelocity'];\r\n\t\tfor (let i = 0; i < fields.length; i++){\r\n\t\t\tlet o = this[fields[i]];\r\n\t\t\to.x *= delta;\r\n\t\t\to.z *= delta;\r\n\t\t\to.y *= delta;\r\n\t\t}\r\n\t\t\r\n\t\tif (this.moveForward)\tthis.velocity.z -= 4.0;\r\n\t\tif (this.moveBackward)\tthis.velocity.z += 4.0;\r\n\t\tif (this.moveLeft)\t\tthis.velocity.x -= 4.0;\r\n\t\tif (this.moveRight)\t\tthis.velocity.x += 4.0;\r\n\t\t\r\n\t\tthis.mesh.translateX(this.velocity.x);\r\n\t\tthis.mesh.translateY(this.velocity.y);\r\n\t\tthis.mesh.translateZ(this.velocity.z);\r\n\t\t\r\n\t\tthis.mesh.rotation.y -= this.angularVelocity.y;\r\n\t\tthis.pitchRot.x = Math.max( -this.PI_2, Math.min(this.PI_2, this.pitchRot.x - this.angularVelocity.x) );\r\n\t\t\r\n\t\tthis.prevTime = time;\r\n\t},\r\n\t\r\n\tgetFirstIntersect: function(){\r\n\t\t// update the picking ray with the camera and mouse position\r\n\t\tthis.raycaster.setFromCamera(this.mouse, this.camera);\r\n\t\t\r\n\t\t// calculate objects intersecting the picking ray\r\n\t\tlet intersects = this.raycaster.intersectObjects( this.scene.children );\r\n\t\t\r\n\t\treturn intersects.length > 0 ? intersects[0] : null;\r\n\t},\r\n\t\r\n\t//----------------------------------------------- INTERACTIONS\r\n\t\r\n\tstartActions: function(d){\r\n\t\tif (this.canRotate){\r\n\t\t\tthis.rotating = true;\r\n\t\t\tthis.angularVelocity = d.mult(0.002);\r\n\t\t}\r\n\t\tif (this.canPan){\r\n\t\t\tthis.pan = true;\r\n\t\t\td.x *= -1;\r\n\t\t\tthis.velocity = d.mult(0.1);\r\n\t\t}\r\n\t},\r\n\tstopActions: function(clickCondition){\r\n\t\tif (clickCondition && !this.rotating){\r\n\t\t\tlet intersects = this.getFirstIntersect();\r\n\t\t\tif (intersects){\r\n\t\t\t\tthis.mesh.lookAt(intersects.point);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.canRotate = this.rotating = this.canPan = this.pan = false;\r\n\t}\r\n};\r\n\r\nmodule.exports = merge(Controller, require('./controller.config'));\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller.js\n// module id = 3\n// module chunks = 0","var controls = require('./controls');\r\n\r\nmodule.exports = {\r\n\tonKeyDown: function (key) {\r\n\t\tswitch (key) {\r\n\t\t\tcase controls.keys.UP:\r\n\t\t\tcase controls.keys.W:\r\n\t\t\t\tthis.moveForward = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase controls.keys.LEFT:\r\n\t\t\tcase controls.keys.A:\r\n\t\t\t\tthis.moveLeft = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase controls.keys.DOWN:\r\n\t\t\tcase controls.keys.S:\r\n\t\t\t\tthis.moveBackward = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase controls.keys.RIGHT:\r\n\t\t\tcase controls.keys.D:\r\n\t\t\t\tthis.moveRight = true;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tonKeyUp: function (key) {\r\n\t\tswitch(key) {\r\n\t\t\tcase controls.keys.UP:\r\n\t\t\tcase controls.keys.W:\r\n\t\t\t\tthis.moveForward = false;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase controls.keys.LEFT:\r\n\t\t\tcase controls.keys.A:\r\n\t\t\t\tthis.moveLeft = false;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase controls.keys.DOWN:\r\n\t\t\tcase controls.keys.S:\r\n\t\t\t\tthis.moveBackward = false;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase controls.keys.RIGHT:\r\n\t\t\tcase controls.keys.D:\r\n\t\t\t\tthis.moveRight = false;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller.keys.js\n// module id = 4\n// module chunks = 0","var controls = require('./controls');\r\n\r\nmodule.exports = {\r\n\tonMouseDown: function(btn){\r\n\t\tswitch (btn){\r\n\t\t\tcase controls.mouse.LEFT:\r\n\t\t\t\tthis.canRotate = true;\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase controls.mouse.MIDDLE:\r\n\t\t\t\tthis.canPan = true;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tonMouseUp: function(btn){\r\n\t\tthis.stopActions(btn == controls.mouse.LEFT);\r\n\t},\r\n\t\r\n\tonMouseMove: function(p, d){\r\n\t\tthis.mouse.x = (p.x / global.innerWidth ) * 2 - 1;\r\n\t\tthis.mouse.y = -(p.y / global.innerHeight ) * 2 + 1;\r\n\t\t\r\n\t\t/*let intersects = this.getFirstIntersect();\r\n\t\tif (intersects){\r\n\t\t\tintersects.mesh.material.setColor();\r\n\t\t}*/\r\n\t\t\r\n\t\tthis.startActions(d);\r\n\t},\r\n\t\r\n\tonMouseWheel: function(delta){\r\n\t\tthis.velocity.z += delta / 10;\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller.mouse.js\n// module id = 5\n// module chunks = 0","module.exports = {\r\n\tonTouchStart: function(points){\r\n\t\tthis.points = points;\r\n\t\t\r\n\t\tif (points.length > 1){\r\n\t\t\tthis.canPan = true;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis.canRotate = true;\r\n\t\t}\r\n\t},\r\n\t\r\n\tonTouchMove: function(points){\r\n\t\tvar p = this.points[0];\r\n\t\tthis.startActions((points[0].x - p.x)/10, (points[0].y - p.y)/10);\r\n\t},\r\n\t\r\n\tonTouchEnd: function(points){\r\n\t\tthis.stopActions(points.length == 1);\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller.touch.js\n// module id = 6\n// module chunks = 0","'use strict';\r\n\r\nglobal.random = function(min, max){\r\n\treturn Math.random() * (max - min) + min;\r\n};/*\r\nTHREE.Vector2.prototype.mult = function(v){\r\n\treturn new THREE.Vector2(v.x * this.x, v.y * this.y);\r\n};\r\nTHREE.Vector3.prototype.mult = function(v){\r\n\treturn new THREE.Vector3(v.x * this.x, v.y * this.y, v.z * this.z);\r\n};*/\r\n\r\nrequire('3d')([\r\n\trequire('./controller'),\r\n\trequire('./light'),\r\n\trequire('./shapes'),\r\n\trequire('./controls'),\r\n]);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/index.js\n// module id = 7\n// module chunks = 0","var { Start, Update } = require('./base');\r\nvar scene, camera, renderer, objects = [];\r\nvar options = {\r\n\tviewAngle: 60,\r\n\tnearClip: 1,\r\n\tfarClip: 1000\r\n};\r\n//global.THREE = require('three');\r\n\r\nglobal.onload = function(){\r\n\tscene = new THREE.Scene();\r\n\t\r\n\tcamera = new THREE.PerspectiveCamera(options.viewAngle, global.innerWidth / global.innerHeight, options.nearClip, options.farClip);\r\n\tcamera.lookAt( scene.position );\r\n\t\r\n\trenderer = new THREE.WebGLRenderer({ antialias: true });\r\n\trenderer.setPixelRatio( global.devicePixelRatio );\r\n\trenderer.setSize( global.innerWidth, global.innerHeight );\r\n\tdocument.body.appendChild( renderer.domElement );\r\n\t\r\n\tStart(scene, camera, renderer, objects);\r\n\trender();\r\n};\r\n\r\nfunction render() {\r\n\trequestAnimationFrame(render);\r\n\tUpdate();\r\n\trenderer.render(scene, camera);// render the scene\r\n}\r\n\r\nmodule.exports = function(models, _opts){\r\n\tif (!models) return;\r\n\t\r\n\tmerge(options, _opts || {});\r\n\tfor (var i = 0; i < models.length; i++){\r\n\t\tobjects.push(models[i]);\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/node_modules/3d/index.js\n// module id = 8\n// module chunks = 0","global.merge = function(o1, o2){\r\n\tif (!o1) o1 = {};\r\n\tvar keys = Object.keys(o2 || {});\r\n\t\r\n\tfor (var i = 0; i < keys.length; i++){\r\n\t\to1[keys[i]] = o2[keys[i]];\r\n\t}\r\n\treturn o1;\r\n};\r\n\r\nvar objects, updates = [];\r\n\r\nexports.Start = function(scene, camera, renderer, objs){\r\n\tobjects = objs;\r\n\t\r\n\tfor (var i in objects){\r\n\t\tlet o = objects[i];\r\n\t\t\r\n\t\to.objects = objs;\r\n\t\to.scene = scene;\r\n\t\to.camera = camera;\r\n\t\to.renderer = renderer;\r\n\t\t\r\n\t\to.Start();\r\n\t\t\r\n\t\tif (o.mesh){\r\n\t\t\tif (o.mesh instanceof Array){\r\n\t\t\t\tfor (var j = 0; j < o.mesh.length; j++){\r\n\t\t\t\t\tscene.add(o.mesh[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tscene.add(o.mesh);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (o.Update) updates.push(o.Update.bind(o));\r\n\t}\r\n};\r\n\r\nexports.Update = function(){\r\n\tfor (var i = 0; i < updates.length; i++){\r\n\t\tupdates[i]();\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/node_modules/3d/base.js\n// module id = 9\n// module chunks = 0","var map = {\n\t\"./controller.config\": 2,\n\t\"./controller.config.js\": 2,\n\t\"./controller.js\": 3,\n\t\"./controller.keys\": 4,\n\t\"./controller.keys.js\": 4,\n\t\"./controller.mouse\": 5,\n\t\"./controller.mouse.js\": 5,\n\t\"./controller.touch\": 6,\n\t\"./controller.touch.js\": 6\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 10;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client ^\\.\\/controller\\..*$\n// module id = 10\n// module chunks = 0","module.exports = {\r\n\tStart: function(){\r\n\t\tthis.mesh = [\r\n\t\t\tthis.getLight('Hemisphere', [0xeeeeff, 0x777788, 0.75], [0.5, 1, 0.75]),\r\n\t\t\tthis.getLight('Directional', [0xffffff], [1, 1, 1]),\r\n\t\t\tthis.getLight('Directional', [0x002288], [-1, -1, -1]),\r\n\t\t\tthis.getLight('Ambient', [0x222222]),\r\n\t\t];\r\n\t},\r\n\t\r\n\tgetLight: function(type, args, pos){\r\n\t\tvar light = new THREE[type+'Light'](...args);\r\n\t\tif (pos) light.position.set(...pos);\r\n\t\treturn light;\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/light.js\n// module id = 11\n// module chunks = 0","module.exports = {\r\n\tmesh: [],\r\n\tdata: [\r\n\t\t{name: '.git',\tisFolder: true},\r\n\t\t{name: '3d',\tisFolder: true},\r\n\t\t{name: 'dist',\tisFolder: true},\r\n\t\t{name: 'simple-server',\tisFolder: true},\r\n\t\t{name: 'src',\t\t\tisFolder: true},\r\n\t\t\r\n\t\t{name: 'LICENSE',\t\tisFolder: false},\r\n\t\t{name: '.gitignore',\tisFolder: false},\r\n\t\t{name: 'package.json',\tisFolder: false},\r\n\t\t{name: 'README.md',\t\tisFolder: false},\r\n\t\t{name: 'webpack.config.js',\tisFolder: false},\r\n\t\t{name: 'webpack.config.prod.js',\tisFolder: false},\r\n\t],\r\n\t\r\n\tStart: function(){\r\n\t\tlet geometry = new THREE.BoxGeometry(20, 20, 20);\r\n\t\t\r\n\t\tfor (var i = 0; i < geometry.faces.length; i++) {\r\n\t\t\tlet face = geometry.faces[i];\r\n\t\t\tface.vertexColors[0] = new THREE.Color().setHSL( random(0.5, 0.8), 0.75, random(0.75, 1) );\r\n\t\t\tface.vertexColors[1] = new THREE.Color().setHSL( random(0.5, 0.8), 0.75, random(0.75, 1) );\r\n\t\t\tface.vertexColors[2] = new THREE.Color().setHSL( random(0.5, 0.8), 0.75, random(0.75, 1) );\r\n\t\t}\r\n\t\t\r\n\t\tlet material = new THREE.MeshPhongMaterial({\r\n\t\t\tspecular: 0xffffff,\r\n\t\t\tshading: THREE.FlatShading,\r\n\t\t\tvertexColors: THREE.VertexColors\r\n\t\t});\r\n\t\t\r\n\t\tfor (i = 0; i < this.data.length; i++) {\r\n\t\t\tmaterial.color.setHSL( random(0.5, 0.7), 0.75, random(0.75, 1) );\r\n\t\t\t\r\n\t\t\tlet mesh = new THREE.Mesh(geometry, material);\r\n\t\t\tmesh.position.x = random(-200, 200);\r\n\t\t\tmesh.position.y = random(-200, 200);\r\n\t\t\tmesh.position.z = random(-200, 200);\r\n\t\t\tmesh.castShadow = true;\r\n\t\t\tmesh.receiveShadow = true;\r\n\t\t\t\r\n\t\t\tlet textElem = document.createElement('div');\r\n\t\t\ttextElem.className = 'title';\r\n\t\t\ttextElem.innerHTML = this.data[i].name;\r\n\t\t\tmesh.textElem = textElem;\r\n\t\t\tdocument.body.appendChild(textElem);\r\n\t\t\t\r\n\t\t\tthis.mesh.push(mesh);\r\n\t\t}\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/shapes.js\n// module id = 12\n// module chunks = 0"],"sourceRoot":""}