{"version":3,"sources":["webpack:///webpack/bootstrap d5bfaa28002a0d4cca64","webpack:///(webpack)/buildin/global.js","webpack:///./src/client/controller/config.js","webpack:///./src/client/component.js","webpack:///./src/client/controller/defaults.js","webpack:///./src/client/controller/keys.js","webpack:///./src/client/controller/mouse.js","webpack:///./src/client/controller/touch.js","webpack:///./src/client/index.js","webpack:///./src/node_modules/3d/index.js","webpack:///./src/node_modules/3d/base.js","webpack:///./src/client/controller.js","webpack:///./src/client/controller ^\\.\\/.*$","webpack:///./src/client/light.js","webpack:///./src/client/shapes.js","webpack:///./src/client/shape.js","webpack:///./src/client/text-element.js","webpack:///./src/client/shape.colors.js","webpack:///./src/client/shape.drag.js","webpack:///./src/client/controls.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AC7DA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,kBAAkB;AAClC;AACA;AACA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,E;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA,EAAE;;AAEF;AACA,E;;;;;;AC/DA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;;;;;;;8CCnBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;ACbD,mDAAK,gBAAgB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qCAAqC,kBAAkB;AACvD;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA;;AAEA,2BAA2B;;AAE3B,gBAAgB,mBAAmB;AACnC,sBAAsB,IAAI;AAC1B;AACA;AACA;AACA,E;;;;;;;ACvCA;AACA;AACA,gCAAgC;;AAEhC,gBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,oBAAoB;AACpC;AACA;AACA,E;;;;;;;AC1EA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB;;;;;;;AClHlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uB;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;ACfA;AAAA;AACA,UAAU,SAAS,WAAW;AAC9B,QAAQ,SAAS,WAAW;AAC5B,UAAU,SAAS,WAAW;AAC9B,mBAAmB,SAAS,WAAW;AACvC,SAAS,SAAS,WAAW;;AAE7B,aAAa,SAAS;AACtB,gBAAgB,QAAQ;AACxB,kBAAkB,SAAS;AAC3B,eAAe,SAAS;AACxB,uBAAuB,SAAS;AAChC,4BAA4B,SAAS;AACrC;;AAEA;AACA;AACA;;AAEA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA,GAAG;;AAEH,OAAO,QAAQ;;AAEf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA,C;;;;;;;;;;;;;AC7DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;ACxEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,KAAK,QAAQ;AACb,KAAK,gBAAgB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;ACnDA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,2DAA2D;AAC3D;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;ACvDA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AAAA;AAAA;;;;;;;;;ACvCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d5bfaa28002a0d4cca64","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 0\n// module chunks = 0","var parts = [\r\n\t'defaults',\r\n\t'touch',\r\n\t'mouse',\r\n\t//'keys',\r\n];\r\n\r\nmodule.exports = function(Controller){\r\n\tfor (var i = 0; i < parts.length; i++){\r\n\t\tmerge(Controller, require('./'+parts[i]));\r\n\t}\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller/config.js\n// module id = 1\n// module chunks = 0","export default class Component\r\n{\r\n\tconstructor(parent){\r\n\t\tthis.parent = parent;\r\n\t\tthis.controls = parent.controls;\r\n\t}\r\n\t\r\n\tonMouseEnter(){}\r\n\tonMouseLeave(){}\r\n\tonMouseUp(btn, p){}\r\n\tonMouseDown(btn, p){}\r\n\tonMouseMove(p, d){}\r\n\tonClick(btn, p){}\r\n\tonMouseWheel(d){}\r\n\tonContextMenu(){}\r\n\t\r\n\tonTouchStart(points){}\r\n\tonTouchEnd(points){}\r\n\tonTouchMove(points){}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/component.js\n// module id = 2\n// module chunks = 0","module.exports = {\r\n\tmesh: new THREE.Object3D(),\r\n\trotation: new THREE.Vector3(),\r\n\tminVelocity: 0.01,\r\n\t\r\n\tvelocity: new THREE.Vector3(),\r\n\tvelocityLength: 0,\r\n\t\r\n\tangularVelocity: new THREE.Vector3(),\r\n\tangularVelocityLength: 0,\r\n\t\r\n\tcameraVelocity: new THREE.Vector3(),\r\n\tcameraVelocityLength: 0,\r\n\t\r\n\tpoints: [],\r\n\traycaster: new THREE.Raycaster(),\r\n\t\r\n\tintersects: null,// THREE.Raycaster.Intersection,\r\n\thoveredObject: null,// Shape,\r\n\t\r\n\tcameraInitialDistance: 500,\r\n\t\r\n\tprevTime: 0,\r\n\tPI_2: Math.PI / 2,\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller/defaults.js\n// module id = 3\n// module chunks = 0","module.exports = {\r\n\tonKeyDown: function (key) {\r\n\t\tswitch (key) {\r\n\t\t\tcase this.controls.keys.UP:\r\n\t\t\tcase this.controls.keys.W:\r\n\t\t\t\tthis.velocity.z -= 4.0\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase this.controls.keys.LEFT:\r\n\t\t\tcase this.controls.keys.A:\r\n\t\t\t\tthis.velocity.x -= 4.0\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase this.controls.keys.DOWN:\r\n\t\t\tcase this.controls.keys.S:\r\n\t\t\t\tthis.velocity.z += 4.0\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase this.controls.keys.RIGHT:\r\n\t\t\tcase this.controls.keys.D:\r\n\t\t\t\tthis.velocity.x += 4.0\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller/keys.js\n// module id = 4\n// module chunks = 0","module.exports = {\r\n\tcanRotate: false,\r\n\trotating: false,\r\n\tcanPan: false,\r\n\tpan: false,\r\n\t\r\n\trotSpeed: 0.01,\r\n\tpanSpeed: 0.1,\r\n\tzoomSpeed: 0.1,\r\n\t\r\n\tonMouseDown: function(btn, p){\r\n\t\tthis.intersectAction('onMouseDown', btn, p, this.intersects);\r\n\t\t\r\n\t\tswitch (btn){\r\n\t\t\tcase this.controls.mouse.RIGHT:\r\n\t\t\t\tthis.canRotate = true;\r\n\t\t\t\t\r\n\t\t\tcase this.controls.mouse.LEFT:\r\n\t\t\t\tif (!this.hoveredObject && !this.controls.keys.CTRL) this.shapes.toggleActiveAll(false);\r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t\tcase this.controls.mouse.MIDDLE:\r\n\t\t\t\tthis.canPan = true;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tonMouseUp: function(btn, p){\r\n\t\tthis.intersectAction('onMouseUp', btn, p);\r\n\t\tthis.stopActions(btn, p);\r\n\t},\r\n\t\r\n\tonMouseMove: function(p, d){\r\n\t\tthis.intersects = this.getFirstIntersect(p);\r\n\t\t\r\n\t\tif (this.intersects)\r\n\t\t{\r\n\t\t\t// new object or above an other object\r\n\t\t\tif (!this.hoveredObject || this.hoveredObject.name !== this.intersects.object.name)\r\n\t\t\t{\r\n\t\t\t\tthis.intersectAction('onMouseLeave');\r\n\t\t\t\tthis.hoveredObject = this.intersects.object;\r\n\t\t\t\tthis.intersectAction('onMouseEnter');\r\n\t\t\t}\r\n\t\t\telse{// above the same object\r\n\t\t\t\tthis.intersectAction('onMouseMove', p, d, this.intersects);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif (this.hoveredObject){\r\n\t\t\t\tthis.intersectAction('onMouseLeave');\r\n\t\t\t\tthis.hoveredObject = null;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.startActions(d);\r\n\t},\r\n\t\r\n\tonMouseWheel: function(delta){\r\n\t\tthis.cameraVelocity.z += delta * this.getSpeedByCamera(this.zoomSpeed);\r\n\t},\r\n\t\r\n\tonContextMenu: function(){}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller/mouse.js\n// module id = 5\n// module chunks = 0","module.exports = {\r\n\tbutton: null,\r\n\t\r\n\tonTouchStart: function(points){\r\n\t\tthis.points = points;\r\n\t\tthis.button = points.length > 1 ? this.controls.mouse.MIDDLE : this.controls.mouse.RIGHT;\r\n\t\tthis.onMouseDown(this.button, points[0]);\r\n\t},\r\n\t\r\n\tonTouchMove: function(points){\r\n\t\tvar oldp = this.points[0];\r\n\t\tvar p = points[0];\r\n\t\t\r\n\t\tthis.onMouseMove(p, new THREE.Vector2( (p.x - oldp.x)/10, (p.y - oldp.y)/10 ));\r\n\t},\r\n\t\r\n\tonTouchEnd: function(points){\r\n\t\tthis.onMouseUp(this.button, points[0]);\r\n\t}\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller/touch.js\n// module id = 6\n// module chunks = 0","'use strict';\r\n\r\nglobal.random = function(min, max){\r\n\treturn Math.random() * (max - min) + min;\r\n};\r\n\r\nrequire('3d')([// import classes\r\n\trequire('./controller'),\r\n\trequire('./light'),\r\n\trequire('./shapes'),\r\n\trequire('./controls'),\r\n], {\r\n\tfarClip: 10000\r\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/index.js\n// module id = 7\n// module chunks = 0","var { Start, Update } = require('./base');\r\nvar scene, camera, renderer, objects = {};\r\nvar options = {\r\n\tviewAngle: 60,\r\n\tnearClip: 1,\r\n\tfarClip: 1000\r\n};\r\n\r\nglobal.onload = function(){\r\n\tscene = new THREE.Scene();\r\n\t\r\n\tcamera = new THREE.PerspectiveCamera(options.viewAngle, global.innerWidth / global.innerHeight, options.nearClip, options.farClip);\r\n\tcamera.lookAt( scene.position );\r\n\t\r\n\trenderer = new THREE.WebGLRenderer({ antialias: true });\r\n\trenderer.setPixelRatio( global.devicePixelRatio );\r\n\trenderer.setSize( global.innerWidth, global.innerHeight );\r\n\tdocument.body.appendChild( renderer.domElement );\r\n\t\r\n\tStart(scene, camera, renderer, objects);\r\n\trender();\r\n};\r\n\r\nfunction render() {\r\n\trequestAnimationFrame(render);\r\n\tUpdate();\r\n\trenderer.render(scene, camera);// render the scene\r\n}\r\n\r\nmodule.exports = function(models, _opts){\r\n\tif (!models) return;\r\n\t\r\n\tmerge(options, _opts || {});\r\n\t\r\n\tfor (var i = 0; i < models.length; i++){\r\n\t\tlet obj = models[i];// {className: class}\r\n\t\tlet className = Object.keys(obj)[0];\r\n\t\tobjects[className.toLowerCase()] = new obj[className]();\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/node_modules/3d/index.js\n// module id = 8\n// module chunks = 0","global.merge = function(o1, o2){\r\n\tif (!o1) o1 = {};\r\n\tvar keys = Object.keys(o2 || {});\r\n\t\r\n\tfor (var i = 0; i < keys.length; i++){\r\n\t\to1[keys[i]] = o2[keys[i]];\r\n\t}\r\n\treturn o1;\r\n};\r\n\r\nTHREE.Vector2.prototype.mult = function(v){\r\n\tif (!v || typeof v != 'object') v = new THREE.Vector2(v,v);\r\n\treturn new THREE.Vector2(this.x * v.x, this.y * v.y);\r\n};\r\nTHREE.Vector2.prototype.toWorld = function(){\r\n\tlet p = this.clone();\r\n\tp.x = 2 * p.x / global.innerWidth - 1;\r\n\tp.y = 1 - 2 * p.y / global.innerHeight;\r\n\treturn p;\r\n};\r\n\r\nTHREE.Vector3.prototype.mult = function(v){\r\n\tif (!v || typeof v != 'object') v = new THREE.Vector3(v,v,v);\r\n\treturn new THREE.Vector3(this.x * v.x, this.y * v.y, this.z * v.z);\r\n};\r\nTHREE.Vector3.prototype.toScreenPos = function(camera){\r\n\tlet p = this.clone();\r\n\tp.project(camera);\r\n\treturn new THREE.Vector2(\r\n\t\t(p.x + 1) * global.innerWidth / 2,\r\n\t\t(1 - p.y) * global.innerHeight / 2\r\n\t);\r\n};\r\n\r\nTHREE.Raycaster.Intersection = {\r\n\tdistance: 'Number',\r\n\tface: 'Object',\r\n\tfaceIndex: 'Number',\r\n\tobject: 'Shape',\r\n\tpoint: 'Vector3',\r\n\tuv: 'Vector2'\r\n};\r\n\r\nvar updates = [];\r\n\r\nexports.Start = function(scene, camera, renderer, objects){\r\n\tfor (var name in objects){\r\n\t\tlet o = objects[name];\r\n\t\t\r\n\t\to.scene = scene;\r\n\t\to.camera = camera;\r\n\t\to.renderer = renderer;\r\n\t\t\r\n\t\to.Start(objects);\r\n\t\t\r\n\t\tif (o.mesh){\r\n\t\t\tif (o.mesh instanceof Array){\r\n\t\t\t\tfor (var i = 0; i < o.mesh.length; i++){\r\n\t\t\t\t\tscene.add(o.mesh[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tscene.add(o.mesh);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (o.Update) updates.push(o.Update.bind(o));\r\n\t}\r\n};\r\n\r\nexports.Update = function(){\r\n\tfor (var i = 0; i < updates.length; i++){\r\n\t\tupdates[i]();\r\n\t}\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/node_modules/3d/base.js\n// module id = 9\n// module chunks = 0","class Controller {\r\n\tStart(objects){\r\n\t\tthis.controls = objects.controls;\r\n\t\tthis.shapes = objects.shapes;\r\n\t\t\r\n\t\tthis.camera.position.z = this.cameraInitialDistance;\r\n\t\tthis.renderer.setClearColor(0xcccccc);\r\n\t\tthis.controls.enabled = true;\r\n\t\t\r\n\t\tthis.mesh.add(this.camera);\r\n\t\tthis.rotation = this.mesh.rotation;\r\n\t\t\r\n\t\tthis.prevTime = performance.now();\r\n\t}\r\n\t\r\n\tUpdate(){\r\n\t\tif (!this.controls.enabled) return;\r\n\t\t\r\n\t\tvar time = performance.now();\r\n\t\tvar delta = 1 - ( time - this.prevTime ) / 100;\r\n\t\tvar screenHasChanged = false;\r\n\t\t\r\n\t\tif (this.hasVelocityChanged('velocityLength', 'velocity'))// moving\r\n\t\t{\r\n\t\t\t// decrease speed\r\n\t\t\tthis.velocity.x *= delta;\r\n\t\t\tthis.velocity.y *= delta;\r\n\t\t\tthis.velocity.z *= delta;\r\n\t\t\t\r\n\t\t\tthis.mesh.translateX(this.velocity.x);\r\n\t\t\tthis.mesh.translateY(this.velocity.y);\r\n\t\t\tthis.mesh.translateZ(this.velocity.z);\r\n\t\t\t\r\n\t\t\tthis.velocityLength = this.velocity.length();\r\n\t\t\tscreenHasChanged = true;\r\n\t\t}\r\n\t\t\r\n\t\tif (this.hasVelocityChanged('angularVelocityLength', 'angularVelocity'))// rotation\r\n\t\t{\r\n\t\t\tthis.angularVelocity.x *= delta;\r\n\t\t\tthis.angularVelocity.y *= delta;\r\n\t\t\t\r\n\t\t\tthis.rotation.y -= this.angularVelocity.y;\r\n\t\t\tthis.rotation.x = Math.max( -this.PI_2, Math.min(this.PI_2, this.rotation.x - this.angularVelocity.x) );\r\n\t\t\t\r\n\t\t\tthis.angularVelocityLength = this.angularVelocity.length();\r\n\t\t\tscreenHasChanged = true;\r\n\t\t}\r\n\t\t\r\n\t\tif (this.hasVelocityChanged('cameraVelocityLength', 'cameraVelocity'))// zoom\r\n\t\t{\r\n\t\t\tthis.cameraVelocity.z *= delta;\r\n\t\t\tthis.camera.position.z += this.cameraVelocity.z;\r\n\t\t\t\r\n\t\t\tthis.cameraVelocityLength = this.cameraVelocity.length();\r\n\t\t\tscreenHasChanged = true;\r\n\t\t}\r\n\t\t\r\n\t\tif (screenHasChanged){\r\n\t\t\tthis.shapes.updateScreenElements();\r\n\t\t}\r\n\t\t\r\n\t\tthis.prevTime = time;\r\n\t}\r\n\t\r\n\thasVelocityChanged(cachedProp, prop){\r\n\t\treturn this[cachedProp] && this[cachedProp] > this.minVelocity || this[prop].length() > this.minVelocity\r\n\t}\r\n\t\r\n\tgetFirstIntersect(p){\r\n\t\t// update the picking ray with the camera and mouse position\r\n\t\tthis.raycaster.setFromCamera(p.toWorld(), this.camera);\r\n\t\t\r\n\t\t// calculate objects intersecting the picking ray\r\n\t\tlet intersects = this.raycaster.intersectObjects( this.shapes.mesh );\r\n\t\t\r\n\t\treturn intersects.length > 0 ? intersects[0] : null;\r\n\t}\r\n\t\r\n\tintersectAction(action, ...args){\r\n\t\tif (this.hoveredObject && this.hoveredObject[action]){\r\n\t\t\tthis.hoveredObject[action](...args);\r\n\t\t}\r\n\t}\r\n\t\r\n\t//----------------------------------------------- INTERACTIONS\r\n\t\r\n\tgetSpeedByCamera(speed){\r\n\t\treturn speed * this.camera.position.z / this.cameraInitialDistance;\r\n\t}\r\n\t\r\n\tstartActions(d){\r\n\t\tif (this.canRotate){\r\n\t\t\tthis.rotating = true;\r\n\t\t\tthis.angularVelocity.x = d.y * this.rotSpeed;\r\n\t\t\tthis.angularVelocity.y = d.x * this.rotSpeed;\r\n\t\t}\r\n\t\tif (this.canPan){\r\n\t\t\tthis.pan = true;\r\n\t\t\tlet k = this.getSpeedByCamera(this.panSpeed);\r\n\t\t\tthis.velocity.x -= d.x * k;\r\n\t\t\tthis.velocity.y += d.y * k;\r\n\t\t}\r\n\t}\r\n\t\r\n\tstopActions(btn, p){\r\n\t\tif (!this.rotating){\r\n\t\t\tthis.intersectAction('onClick', btn, p);\r\n\t\t}\r\n\t\tthis.canRotate = this.rotating = this.canPan = this.pan = false;\r\n\t}\r\n};\r\n\r\nrequire('./controller/config')(Controller.prototype);\r\nmodule.exports = { Controller };\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller.js\n// module id = 10\n// module chunks = 0","var map = {\n\t\"./config\": 1,\n\t\"./config.js\": 1,\n\t\"./defaults\": 3,\n\t\"./defaults.js\": 3,\n\t\"./keys\": 4,\n\t\"./keys.js\": 4,\n\t\"./mouse\": 5,\n\t\"./mouse.js\": 5,\n\t\"./touch\": 6,\n\t\"./touch.js\": 6\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 11;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controller ^\\.\\/.*$\n// module id = 11\n// module chunks = 0","export class Light {\r\n\tStart(){\r\n\t\tthis.mesh = [\r\n\t\t\tthis.getLight('Hemisphere', [0xeeeeff, 0x777788, 0.75], [0.5, 1, 0.75]),\r\n\t\t\tthis.getLight('Directional', [0xffffff], [1, 1, 1]),\r\n\t\t\tthis.getLight('Directional', [0x002288], [-1, -1, -1]),\r\n\t\t\tthis.getLight('Ambient', [0x222222]),\r\n\t\t];\r\n\t}\r\n\t\r\n\tgetLight(type, args, pos){\r\n\t\tvar light = new THREE[type+'Light'](...args);\r\n\t\tif (pos) light.position.set(...pos);\r\n\t\treturn light;\r\n\t}\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/light.js\n// module id = 12\n// module chunks = 0","var data = {\r\n\t'.git': {items: {}, size: 20},\r\n\t'3d': {items: {}, size: 20},\r\n\t'dist': {items: {}, size: 30},\r\n\t'simple-server': {items: {}, size: 20},\r\n\t'src': {items: {}, size: 10},\r\n\t\r\n\t'LICENSE': {size: 10},\r\n\t'.gitignore': {size: 1},\r\n\t'package.json': {size: 10},\r\n\t'README.md': {size: 10},\r\n\t'webpack.config.js': {size: 20},\r\n\t'webpack.config.prod.js': {size: 10},\r\n};\r\n\r\nexport class Shapes {\r\n\tStart(objects){\r\n\t\tthis.mesh = [];\r\n\t\t\r\n\t\t/*for (var i = 0; i < geometry.faces.length; i++) {\r\n\t\t\tlet face = geometry.faces[i];\r\n\t\t\tface.vertexColors[0] = new THREE.Color().setHSL( random(0.5, 0.8), 0.75, random(0.75, 1) );\r\n\t\t\tface.vertexColors[1] = new THREE.Color().setHSL( random(0.5, 0.8), 0.75, random(0.75, 1) );\r\n\t\t\tface.vertexColors[2] = new THREE.Color().setHSL( random(0.5, 0.8), 0.75, random(0.75, 1) );\r\n\t\t}*/\r\n\t\t\r\n\t\tlet { Shape } = require('./shape');\r\n\t\t\r\n\t\tfor (var name in data) {\r\n\t\t\tlet size = data[name].size;\r\n\t\t\tlet geometry = new THREE.BoxGeometry(size, size, size);\r\n\t\t\tlet mesh = new Shape(this, name, geometry, objects.controls);\r\n\t\t\tthis.mesh.push(mesh);\r\n\t\t}\r\n\t\t\r\n\t\tthis.activeObjects = {};\r\n\t}\r\n\t\r\n\taddToActive(obj){\r\n\t\tthis.activeObjects[obj.name] = obj;\r\n\t}\r\n\t\r\n\tremoveFromActive(obj){\r\n\t\tdelete this.activeObjects[name];\r\n\t}\r\n\t\r\n\ttoggleActive(obj, status){\r\n\t\tobj.toggleActive(status);\r\n\t}\r\n\t\r\n\ttoggleActiveAll(status){\r\n\t\tfor (var name in this.activeObjects){\r\n\t\t\tthis.toggleActive(this.activeObjects[name], status);\r\n\t\t}\r\n\t}\r\n\t\r\n\tupdateScreenElements(){\r\n\t\tfor (var i = 0; i < this.mesh.length; i++){\r\n\t\t\tthis.mesh[i].updateScreenElements();\r\n\t\t}\r\n\t}\r\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/shapes.js\n// module id = 13\n// module chunks = 0","import TextElement from './text-element';\r\nimport Colors from './shape.colors';\r\nimport Drag from './shape.drag';\r\n\r\nexport class Shape extends THREE.Mesh\r\n{\r\n\tconstructor(parent, name, geometry, controls){\r\n\t\tlet material = new THREE.MeshPhongMaterial({\r\n\t\t\tcolor: new THREE.Color().setHSL( random(0.5, 0.8), 0.75, random(0.75, 1) ),\r\n\t\t\tspecular: 0x999999,\r\n\t\t\tshading: THREE.FlatShading,\r\n\t\t\tvertexColors: THREE.VertexColors\r\n\t\t});\r\n\t\t\r\n\t\tsuper(geometry, material);\r\n\t\t\r\n\t\tthis._parent = parent;// to avoid a conflicts with Mesh.parent\r\n\t\tthis.controls = controls;\r\n\t\tthis.name = name;\r\n\t\t\r\n\t\tthis.position.x = random(-200, 200);\r\n\t\tthis.position.y = random(-200, 200);\r\n\t\tthis.position.z = random(-200, 200);\r\n\t\t\r\n\t\tthis.castShadow = true;\r\n\t\tthis.receiveShadow = true;\r\n\t\t\r\n\t\tlet components = ['colors','drag','title'];\r\n\t\tthis.drag = new Drag(this);\r\n\t\tthis.colors = new Colors(this);\r\n\t\tthis.title = new TextElement(this, name, this.position.toScreenPos(this._parent.camera));\r\n\t\t\r\n\t\tlet events = ['onMouseEnter','onMouseLeave','onMouseUp','onMouseDown','onMouseMove'];\r\n\t\tfor (var i = 0; i < events.length; i++){\r\n\t\t\tlet e = events[i];\r\n\t\t\t\r\n\t\t\tthis[e] = (...args) => {\r\n\t\t\t\tfor (var i = 0; i < components.length; i++){\r\n\t\t\t\t\tthis[components[i]][e](...args);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tthis.isActive = false;\r\n\t}\r\n\t\r\n\ttoggleActive(status){\r\n\t\tif (this.controls.keys.CTRL){\r\n\t\t\tstatus = !this.isActive;\r\n\t\t}\r\n\t\telse{\r\n\t\t\tif (status){\r\n\t\t\t\tthis._parent.toggleActiveAll(false);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.isActive = status;\r\n\t\tthis.colors.toggle(status);\r\n\t\tthis._parent[status ? 'addToActive' : 'removeFromActive'](this);\r\n\t}\r\n\t\r\n\tmove(diff){\r\n\t\tthis.translateX(diff.x);\r\n\t\tthis.translateY(diff.y);\r\n\t\tthis.updateScreenElements();\r\n\t}\r\n\t\r\n\tupdateScreenElements(){\r\n\t\tlet pos = this.position.clone();\r\n\t\tlet cam = this._parent.camera.position.clone();\r\n\t\tcam.sub(pos);\r\n\t\tthis.title.update(pos.toScreenPos(this._parent.camera), cam.length() * 0.01);\r\n\t}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/shape.js\n// module id = 14\n// module chunks = 0","import Component from './component';\r\n\r\nexport default class TextElement extends Component\r\n{\r\n\tconstructor(parent, text, pos){\r\n\t\tsuper(parent);\r\n\t\t\r\n\t\tlet elem = document.createElement('div');\r\n\t\telem.className = 'title';\r\n\t\telem.innerHTML = text;\r\n\t\tdocument.body.appendChild(elem);\r\n\t\tthis.DOM = elem;\r\n\t\tthis.maxFontSize = 42;\r\n\t\tthis.update(pos, 20);\r\n\t\t\r\n\t\tlet handlers = {\r\n\t\t\tmouseenter: 'onMouseEnter',\r\n\t\t\tmouseleave: 'onMouseLeave',\r\n\t\t\tmousemove: 'onMouseMove',\r\n\t\t\tmousedown: 'onMouseDown',\r\n\t\t\tmouseup: 'onMouseUp',\r\n\t\t\tclick: 'onClick',\r\n\t\t\twheel: 'onMouseWheel',\r\n\t\t\tcontextmenu: 'onContextMenu',\r\n\t\t\t\r\n\t\t\ttouchstart: 'onTouchStart',\r\n\t\t\ttouchend: 'onTouchEnd',\r\n\t\t\ttouchmove: 'onTouchMove',\r\n\t\t};\r\n\t\t\r\n\t\tfor (let eventName in this.handlers){\r\n\t\t\tlet handlerName = this.handlers[eventName];\r\n\t\t\t\r\n\t\t\tif (parent[handlerName]){\r\n\t\t\t\telem.addEventListener(eventName, (e) => {\r\n\t\t\t\t\tparent.controls.eventHandler(e, parent, handlerName);\r\n\t\t\t\t}, false);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * {Vector2} pos\r\n\t * {Number(natural)} depth\r\n\t */\r\n\tupdate(pos, depth){\r\n\t\tthis.DOM.style.left = pos.x+'px';\r\n\t\tthis.DOM.style.top = pos.y+'px';\r\n\t\tthis.DOM.style.opacity = 1 / depth;\r\n\t\tthis.DOM.style.fontSize = Math.min(this.DOM.style.opacity * 100, this.maxFontSize) + 'px';\r\n\t}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/text-element.js\n// module id = 15\n// module chunks = 0","import Component from './component';\r\n\r\nexport default class Colors extends Component\r\n{\r\n\tconstructor(parent, activateCondition){\r\n\t\tsuper(parent);\r\n\t\tthis.material = parent.material;\r\n\t\t\r\n\t\tthis.oldColor = this.deactiveColor = this.color;\r\n\t\t\r\n\t\tthis.activateCondition = activateCondition || function(){return true};\r\n\t}\r\n\t\r\n\tget color(){\r\n\t\treturn this.material.color.getHex();\r\n\t}\r\n\tset color(c){\r\n\t\tthis.material.color.set(c);\r\n\t}\r\n\t\r\n\tget activeColor(){\r\n\t\treturn 0x885555;\r\n\t}\r\n\tget hoverColor(){\r\n\t\treturn this.parent.isActive ? 0xbb8888 : 0x888888;\r\n\t}\r\n\tget downColor(){\r\n\t\treturn this.parent.isActive ? 0x885555 : 0x555555;\r\n\t}\r\n\t\r\n\ttoggle(status){\r\n\t\tthis.oldColor = this.color = this[status ? 'activeColor' : 'deactiveColor'];\r\n\t}\r\n\t\r\n\t//---------------------------------------- EVENTS\r\n\t\r\n\tonMouseEnter(){\r\n\t\tthis.oldColor = this.color;\r\n\t\tthis.color = this.hoverColor;\r\n\t}\r\n\t\r\n\tonMouseLeave(){\r\n\t\tthis.color = this.oldColor;\r\n\t}\r\n\t\r\n\tonMouseUp(btn, p){\r\n\t\tthis.color = this.hoverColor;\r\n\t}\r\n\t\r\n\tonMouseDown(btn, p){\r\n\t\tif (this.activateCondition()){\r\n\t\t\tthis.parent.toggleActive(true);\r\n\t\t}\r\n\t\tthis.color = this.downColor;\r\n\t}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/shape.colors.js\n// module id = 16\n// module chunks = 0","import Component from './component';\r\n\r\nexport default class Drag extends Component\r\n{\r\n\tconstructor(parent){\r\n\t\tsuper(parent);\r\n\t\tstop();\r\n\t}\r\n\t\r\n\tstop(){\r\n\t\tthis.startPoint = this.process = null;\r\n\t}\r\n\t\r\n\t//---------------------------------------- EVENTS\r\n\t\r\n\tonMouseLeave(){\r\n\t\tthis.stop();\r\n\t}\r\n\t\r\n\tonMouseUp(btn, p){\r\n\t\tthis.stop();\r\n\t}\r\n\t\r\n\tonMouseDown(btn, p, proj){\r\n\t\tthis.startPoint = proj.point.clone();\r\n\t}\r\n\t\r\n\tonMouseMove(p, d, proj){\r\n\t\tif (this.startPoint){\r\n\t\t\tthis.process = true;\r\n\t\t\t\r\n\t\t\tlet diff = proj.point.clone();\r\n\t\t\tdiff.sub(this.startPoint);\r\n\t\t\t\r\n\t\t\tthis.parent.move(diff);\r\n\t\t\t\r\n\t\t\tthis.startPoint = proj.point;\r\n\t\t}\r\n\t}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/shape.drag.js\n// module id = 17\n// module chunks = 0","var defaults = {\r\n\tenabled: false,\r\n\tenableKeys: true,\r\n\t\r\n\tkeys: {\r\n\t\tSPACE: 32,\r\n\t\tUP: 38,\r\n\t\tDOWN: 40,\r\n\t\tLEFT: 37,\r\n\t\tRIGHT: 39,\r\n\t\tW: 87,\r\n\t\tA: 65,\r\n\t\tS: 83,\r\n\t\tD: 68,\r\n\t\tCTRL: false\r\n\t},\r\n\tmouse: {\r\n\t\tLEFT: 0,\r\n\t\tWHEEL: 1,\r\n\t\tMIDDLE: 1,\r\n\t\tRIGHT: 2\r\n\t},\r\n\t\r\n\thandlers: {\r\n\t\tkeydown: 'onKeyDown',\r\n\t\tkeyup: 'onKeyUp',\r\n\t\t\r\n\t\tmousemove: 'onMouseMove',\r\n\t\tmousedown: 'onMouseDown',\r\n\t\tmouseup: 'onMouseUp',\r\n\t\tclick: 'onClick',\r\n\t\twheel: 'onMouseWheel',\r\n\t\tcontextmenu: 'onContextMenu',\r\n\t\t\r\n\t\ttouchstart: 'onTouchStart',\r\n\t\ttouchend: 'onTouchEnd',\r\n\t\ttouchmove: 'onTouchMove',\r\n\t}\r\n};\r\n\r\nexport class Controls\r\n{\r\n\tconstructor(){\r\n\t\tmerge(this, defaults);\r\n\t\t\r\n\t\t// Hook pointer lock state change events\r\n\t\tdocument.addEventListener('pointerlockchange', (e) => this.onPointerLockingChange(e), false);\r\n\t\tdocument.addEventListener('mozpointerlockchange', (e) => this.onPointerLockingChange(e), false);\r\n\t\tdocument.addEventListener('webkitpointerlockchange', (e) => this.onPointerLockingChange(e), false);\r\n\t\t\r\n\t\tdocument.addEventListener('pointerlockerror', (e) => this.onPointerLockingError(e), false);\r\n\t\tdocument.addEventListener('mozpointerlockerror', (e) => this.onPointerLockingError(e), false);\r\n\t\tdocument.addEventListener('webkitpointerlockerror', (e) => this.onPointerLockingError(e), false);\r\n\t}\r\n\t\r\n\tStart(objects){\r\n\t\tfor (var name in objects){\r\n\t\t\tlet obj = objects[name];\r\n\t\t\t\r\n\t\t\tfor (let eventName in this.handlers){\r\n\t\t\t\tlet handlerName = this.handlers[eventName];\r\n\t\t\t\t\r\n\t\t\t\tif (obj[handlerName]){\r\n\t\t\t\t\tdocument.body.addEventListener(eventName, (e) => {\r\n\t\t\t\t\t\tif (!this.enabled) return;\r\n\t\t\t\t\t\tthis.keys.CTRL = e.ctrlKey;\r\n\t\t\t\t\t\tthis.eventHandler(e, obj, handlerName);\r\n\t\t\t\t\t}, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tglobal.addEventListener('resize', () => {\r\n\t\t\tthis.camera.aspect = global.innerWidth / global.innerHeight;\r\n\t\t\tthis.camera.updateProjectionMatrix();\r\n\t\t\tthis.renderer.setSize(global.innerWidth, global.innerHeight);\r\n\t\t}, false);\r\n\t}\r\n\t\r\n\teventHandler(e, obj, handlerName){\r\n\t\tvar handler = obj[handlerName].bind(obj);\r\n\t\t\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\t\r\n\t\tswitch (handlerName){\r\n\t\t\tcase 'onKeyDown':\r\n\t\t\tcase 'onKeyUp':\r\n\t\t\t\tif (!this.enableKeys) return;\r\n\t\t\t\treturn handler(e.keyCode);\r\n\t\t\t\r\n\t\t\tcase 'onMouseMove':\r\n\t\t\t\treturn handler(\r\n\t\t\t\t\tnew THREE.Vector2(e.clientX, e.clientY),\r\n\t\t\t\t\tnew THREE.Vector2(\r\n\t\t\t\t\t\te.movementX || e.mozMovementX || e.webkitMovementX || 0,\r\n\t\t\t\t\t\te.movementY || e.mozMovementY || e.webkitMovementY || 0\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t\r\n\t\t\tcase 'onMouseWheel':\r\n\t\t\t\treturn handler(e.deltaY);\r\n\t\t\t\r\n\t\t\tcase 'onClick':\r\n\t\t\tcase 'onMouseUp':\r\n\t\t\tcase 'onMouseDown':\r\n\t\t\t\treturn handler(e.button, new THREE.Vector2(e.clientX, e.clientY));\r\n\t\t\t\r\n\t\t\tcase 'onTouchStart':\r\n\t\t\tcase 'onTouchMove':\r\n\t\t\tcase 'onTouchEnd':\r\n\t\t\t\tlet points = new Array(e.touches.length);\r\n\t\t\t\t\r\n\t\t\t\tfor (var i = 0; i < points.length; i++){\r\n\t\t\t\t\tpoints[i] = new THREE.Vector2(e.touches[i].pageX, e.touches[i].pageY);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn handler(points);\r\n\t\t\t\r\n\t\t\tdefault:\r\n\t\t\t\treturn handler();\r\n\t\t}\r\n\t}\r\n\t\r\n\tonPointerLockingError(){}\r\n\tonPointerLockingChange(){}\r\n\t\r\n\t// Ask the browser to lock the pointer\r\n\tlockPointer(elem){\r\n\t\tlet lock = elem.requestPointerLock || elem.mozRequestPointerLock || elem.webkitRequestPointerLock;\r\n\t\tlock && lock();\r\n\t}\r\n\tisPointerLocked(elem){\r\n\t\treturn document.pointerLockElement === elem || document.mozPointerLockElement === elem || document.webkitPointerLockElement === elem;\r\n\t}\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/client/controls.js\n// module id = 18\n// module chunks = 0"],"sourceRoot":""}